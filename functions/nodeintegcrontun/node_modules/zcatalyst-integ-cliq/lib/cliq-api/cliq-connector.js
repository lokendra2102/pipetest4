import { isEmpty, readConfigSync } from '../util.js';
import CatalystApp from 'zcatalyst-sdk-node';
import { CatalystError } from '../error.js';
export class CliqConnector {
    constructor(path, req) {
        this.config = JSON.parse(readConfigSync(path));
        if (isEmpty(req.catalystHeaders)) {
            throw new CatalystError('catalystHeaders are empty', 2);
        }
        this.ZCObject = req;
    }
    getConnector(connection) {
        const app = CatalystApp.initialize(this.ZCObject);
        return app.connection(this.config).getConnector(connection);
    }
}
